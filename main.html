<!DOCTYPE html>

<head>
	<title>WebGL</title>
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
	<!-- Icon -->
	<link rel="icon" type="image/x-icon" href="res/favicon.ico">
	<!-- Style -->
	<link rel="stylesheet" type="text/css" href="style/main.css">
	<!-- Scripts -->
	<script defer type="text/javascript" src="src/controller.js"></script>
	<script defer type="text/javascript" src="src/glMatrix.js"></script>
	<script defer type="text/javascript" src="src/callbacks.js"></script>
	<script defer type="text/javascript" src="src/colors.js"></script>
	<script defer type="text/javascript" src="src/glCourseBasis.js"></script>
	<script defer type="text/javascript" src="src/objLoader.js"></script>
	<script defer type="text/javascript" src="style/style.js"></script>
</head>


<body onload="webGLStart(); initUI();">

	<!--<header>
		<img src="res/favicon.ico" width="48" height="48" alt="Logo" />	
		<div class="brand">
			<a href="#">A3D 2</a>
		</div>
	</header>-->

	<div id="main_content">

		<canvas id="WebGL-test" style="border:none;" width="2180" height="1080"></canvas>
		
		<!-- "Unity" like Menu -->
		<div class="menu">

			<!-- This button appears on the right corner of the canvas,
				it will open the menu on the "click" event -->
			<button id="open_menu_btn" onclick="openMenu(event)">Menu</button>

			<div id="menu__content">

				<!-- This button will close the menu__content div -->
				<button id="close_menu_btn" onclick="closeMenu()">Close</button>

				<!-- First dropdown menu: Objects
					- A checkbox to toggle the plane display
					- A selector to choose the 3D Model to display on the canvas
					- A color picker to choose the color of .obj models
					- A selector to choose the kind of texture the user need [None, Reflection, Transmission, Reflection & Transmission, Cook-Torrance]
					- If the transmission mode is enabled, then display a range slider to change the value of nI coefficient (Fresnel)
					- If the Cook-Torrance mode is enabled, then display a range slider to change the value of sigma coefficient too
				-->
				<div class="dropdown active">
					<div class="header" onclick="toggleDropdown(event);">
						<span class="caret down"></span>
						Objects
					</div>
					<div class="content__wrapper">
						<!-- Plane toggle -->
						<item>
							<div class="row">
								<label for="plane_checkbox">Plane</label>
								<input type="checkbox" id="plane_checkbox" onclick="isTherePlane = this.checked">
							</div>
						</item>
						<!-- Model selection -->
						<item>
							<div class="row">
								<label for="models_select">Objects</label>
								<select id="models_select" name="Objects" class="selector" onload="this.selectedINdex = 0;">
									<option onclick="OBJ1 = null;" selected>None</option>
								</select>
							</div>
						</item>
						<item>
							<div class="row">
								<label for="color">Colors:</label>
								<input type="color" class="color_picker" id="model_color" name="color" value="#000000" oninput="CONTROLLER.setColor(this.value);">
							</div>
						</item>
						<!-- Texture's mode selection -->
						<item>
							<div class="row">
								<label for="texture_select">Texture:</label>
								<select id="texture_select" name="Textures" class="selector" onclick="showFresnelAndSigma();">
									<option value="0" onclick="CONTROLLER.isMirroring = CONTROLLER.isTransmitting = CONTROLLER.isCookTorrance = false;" selected>None</option>
									<option onclick="CONTROLLER.isMirroring = true; CONTROLLER.isTransmitting = CONTROLLER.isCookTorrance = false;">Perfect Mirror</option>
									<option onclick="CONTROLLER.isTransmitting = true; CONTROLLER.isMirroring = CONTROLLER.isCookTorrance = false;">Transmission</option>
									<option onclick="CONTROLLER.isTransmitting = CONTROLLER.isMirroring = true; CONTROLLER.isCookTorrance = false;">M + T</option>
									<option onclick="CONTROLLER.isTransmitting = CONTROLLER.isMirroring = false; CONTROLLER.isCookTorrance = true;">Cook-Torrance</option>
								</select>
							</div>
						</item>
						<!-- Fresnel slider input -->
						<item>
							<div class="row" id="fresnel" style="display: none;">
								<label for="fresnel_coeff">nI:</label>
								<input type="range" id="fresnel_coeff" name="fresnel_coeff" min="1.0" max="2.0" step="0.01">
								<input type="text" id="fresnel_coeff_value" class="value_display"/>
							</div>
						</item>
						<!-- Sigma (Cook-Torrance) slider input -->
						<item id="sigma" style="display: none;">
							<div class="row">
								<label for="sigma_select">sigma:</label>
								<input type="range" id="sigma_range_select" name="sigma_select" min="0.01" max="0.5" step="0.01">
								<input type="text" id="sigma_value" class="value_display"/>
							</div>
							<div class="row">
								<label for="color">Specular color:</label>
								<input type="color" class="color_picker" id="light_color" name="color" value="#000000" oninput="CONTROLLER.setLightColor(this.value);">
							</div>
							<div class="row">
								<label for="intensity_select">Light:</label>
								<input type="range" id="intensity_range_select" name="intensity_select" min="0.0" max="50" step="0.1">
								<input type="text" id="intensity_value" class="value_display"/>
							</div>
						</item>
					</div>
				</div>

				<!-- Second dropdown menu:
					- A checkbox to toggle the skybox display
					- A gallery to select the skybox texture
				-->
				<div class="dropdown">
					<div class="header" onclick="toggleDropdown(event);">
						<span class="caret down"></span>
						Skybox
					</div>
					<input type="checkbox" id="skybox_checkbox" name="scene" onclick="isThereSkybox = this.checked;">
					<div class="content__wrapper">
						<!-- Skybox textures gallery -->
						<item>
							<div class="row gallery">
								<label for="gallery">Scenes:</label>
								<div id="gallery" class="selector"></div>
							</div>
						</item>
					</div>
				</div>
			</div>
		</div>

	</div>

	<!--<footer>This project was developed by 
		<a href="mailto:gaetan.frejoux@etu.univ-poitiers.fr" style="color: white; text-decoration: none;">Frejoux Gaetan</a>
		&
		<a href="mailto:mathieu.niord@etu.univ-poitiers.fr" style="color: white; text-decoration: none;">Niord Mathieu</a>
	</footer>-->

</body>


</html>
