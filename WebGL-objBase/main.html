<!DOCTYPE html>

<head>
	<title>WebGL</title>
	<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
	<!-- Icon -->
	<link rel="icon" type="image/x-icon" href="favicon.ico">
	<!-- Style -->
	<link rel="stylesheet" type="text/css" href="style/main.css">
	<!-- Scripts -->
	<script defer type="text/javascript" src="glMatrix.js"></script>
	<script defer type="text/javascript" src="callbacks.js"></script>
	<script defer type="text/javascript" src="colors.js"></script>
	<script defer type="text/javascript" src="glCourseBasis.js"></script>
	<script defer type="text/javascript" src="objLoader.js"></script>
	<script defer type="text/javascript" src="style/style.js"></script>
</head>


<body onload="webGLStart(); initUI();">

	<header>
		<img src="favicon.ico" width="48" height="48" alt="Logo" />	
		<div class="brand">
			<a href="#">A3D 2</a>
		</div>
	</header>

	<div id="main_content">

		<canvas id="WebGL-test" style="border:none;" width="1000" height="500"></canvas>
		
		<!-- "Unity" like Menu -->
		<div class="menu">

			<!-- This button appears on the right corner of the canvas,
				it will open the menu on the "click" event -->
			<button id="open-button" onclick="openMenu(event)">Menu</button>

			<div id="menu__content">

				<!-- This button will close the menu__content div -->
				<button id="close" onclick="closeMenu()">Close</button>

				<!-- First dropdown menu: Objects
					- A checkbox to toggle the plane display
					- A selector to choose the 3D Model to display on the canvas
					- A color picker to choose the color of .obj models
					- A selector to choose the kind of texture the user need [None, Reflection, Transmission, Reflection & Transmission]
					- If the transmission mode is enabled, then display a range slider to change the value of nI coefficient (Fresnel)
				-->
				<div class="dropdown">
					<div class="header" onclick="toggleDropdown(event);">
						<span class="caret down"></span>
						Objects
					</div>
					<div class="content__wrapper">
						<!-- Plane toggle -->
						<item>
							<div class="row">
								<label for="plane_checkbox">Plane</label>
								<input type="checkbox" id="plane_checkbox" onclick="isTherePlane = this.checked">
							</div>
						</item>
						<!-- Model selection -->
						<item>
							<div class="row">
								<label for="models_select">Objects</label>
								<select id="models_select" name="Objects" class="selector" onload="this.selectedINdex = 0;">
									<option onclick="OBJ1 = null;" selected>None</option>
								</select>
							</div>
						</item>
						<item>
							<div class="row">
								<label for="color">Colors:</label>
								<input type="color" id="color_picker" name="color" value="#000000" oninput="MODEL_COLOR = hexToRgb(this.value);">
							</div>
						</item>
						<!-- Texture's mode selection -->
						<item>
							<div class="row">
								<label for="texture_select">Texture:</label>
								<select id="texture_select" name="Textures" class="selector" onclick="showFresnel();">
									<option value="0" onclick="isMirroring = isTransmitting = false;" selected>None</option>
									<option onclick="isMirroring = true; isTransmitting = false;">Perfect Mirror</option>
									<option onclick="isTransmitting = true; isMirroring = false;">Transmission</option>
									<option onclick="isTransmitting = true; isMirroring = true;">M + T</option>
								</select>
							</div>
						</item>
						<!-- Fresnel slider input -->
						<item>
							<div class="row" id="fresnel" style="display: none;">
								<label for="fresnel_coeff">nI:</label>
								<input type="range" id="fresnel_coeff" name="fresnel_coeff" min="1.0" max="2.0" step="0.1">
								<span id="fresnel_coeff_value"></span>
							</div>
						</item>
					</div>
				</div>

				<!-- Second dropdown menu:
					- A checkbox to toggle the skybox display
					- A gallery to select the skybox texture
				-->
				<div class="dropdown">
					<div class="header" onclick="toggleDropdown(event);">
						<span class="caret down"></span>
						Skybox
					</div>
					<input type="checkbox" id="skybox_checkbox" name="scene" onclick="isThereSkybox = this.checked;">
					<div class="content__wrapper">
						<!-- Skyboxe textures gallery -->
						<item>
							<div class="row gallery">
								<label for="gallery">Scenes:</label>
								<div id="gallery" class="selector"></div>
							</div>
						</item>
					</div>
				</div>
			</div>
		</div>

	</div>

	<footer>This project was developed by 
		<a href="mailto:gaetan.frejoux@etu.univ-poitiers.fr" style="color: white; text-decoration: none;">Frejoux Gaetan</a>
		&
		<a href="mailto:mathieu.niord@etu.univ-poitiers.fr" style="color: white; text-decoration: none;">Niord Mathieu</a>
	</footer>

</body>


</html>
